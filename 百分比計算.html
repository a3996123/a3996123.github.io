<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>配比計算器</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    .container {
      display: flex;
      gap: 50px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
    }
    table, th, td {
      border: 1px solid #333;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
    input {
      width: 80px;
      padding: 5px;
      margin: 2px;
    }
    .section {
      flex: 1;
    }
  </style>
</head>
<body>
  <h2>配比計算器</h2>
  <div class="container">
    <!-- 左側輸入區 -->
    <div class="section">
      <form id="ratioForm">
        <table>
          <thead>
            <tr>
              <th>項目</th>
              <th>百分比 (%)</th>
            </tr>
          </thead>
          <tbody id="percentageInputs">
            <!-- 10 個輸入欄位 -->
            <tr><td>項目 1</td><td><input type="number" step="0.01" min="0" max="100" id="p0" placeholder="0"></td></tr>
            <tr><td>項目 2</td><td><input type="number" step="0.01" min="0" max="100" id="p1" placeholder="0"></td></tr>
            <tr><td>項目 3</td><td><input type="number" step="0.01" min="0" max="100" id="p2" placeholder="0"></td></tr>
            <tr><td>項目 4</td><td><input type="number" step="0.01" min="0" max="100" id="p3" placeholder="0"></td></tr>
            <tr><td>項目 5</td><td><input type="number" step="0.01" min="0" max="100" id="p4" placeholder="0"></td></tr>
            <tr><td>項目 6</td><td><input type="number" step="0.01" min="0" max="100" id="p5" placeholder="0"></td></tr>
            <tr><td>項目 7</td><td><input type="number" step="0.01" min="0" max="100" id="p6" placeholder="0"></td></tr>
            <tr><td>項目 8</td><td><input type="number" step="0.01" min="0" max="100" id="p7" placeholder="0"></td></tr>
            <tr><td>項目 9</td><td><input type="number" step="0.01" min="0" max="100" id="p8" placeholder="0"></td></tr>
            <tr><td>項目 10</td><td><input type="number" step="0.01" min="0" max="100" id="p9" placeholder="0"></td></tr>
          </tbody>
        </table>
        <br>
        <label>總配比數量：
          <input type="number" step="1" min="0" id="totalAmount" placeholder="請輸入數量">
        </label>
        <br><br>
        <button type="button" onclick="calculateAmounts()">計算</button>
      </form>
    </div>

    <!-- 右側結果區 -->
    <div class="section" id="results">
      <h3>計算結果</h3>
      <table>
        <thead>
          <tr><th>項目</th><th>配比數量</th></tr>
        </thead>
        <tbody id="resultBody">
          <tr><td>項目 1</td><td>—</td></tr>
          <tr><td>項目 2</td><td>—</td></tr>
          <tr><td>項目 3</td><td>—</td></tr>
          <tr><td>項目 4</td><td>—</td></tr>
          <tr><td>項目 5</td><td>—</td></tr>
          <tr><td>項目 6</td><td>—</td></tr>
          <tr><td>項目 7</td><td>—</td></tr>
          <tr><td>項目 8</td><td>—</td></tr>
          <tr><td>項目 9</td><td>—</td></tr>
          <tr><td>項目 10</td><td>—</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    function calculateAmounts() {
      const total = parseFloat(document.getElementById('totalAmount').value);
      if (isNaN(total) || total <= 0) {
        alert("請輸入有效的總配比數量！");
        return;
      }

      let totalPercent = 0;
      const percentages = [];

      for (let i = 0; i < 10; i++) {
        const val = parseFloat(document.getElementById('p' + i).value);
        const percent = isNaN(val) ? 0 : val;
        totalPercent += percent;
        percentages.push(percent);
      }

      if (totalPercent !== 100) {
        alert("總百分比必須為 100%。目前為 " + totalPercent + "%");
        return;
      }

      const resultBody = document.getElementById('resultBody');
      resultBody.innerHTML = '';
      percentages.forEach((p, i) => {
        const amount = ((p / 100) * total).toFixed(2);
        resultBody.innerHTML += `<tr><td>項目 ${i + 1}</td><td>${amount}</td></tr>`;
      });
    }
  </script>
</body>
</html>
